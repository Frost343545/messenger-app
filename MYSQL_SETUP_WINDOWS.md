# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MySQL –Ω–∞ Windows –¥–ª—è Messenger –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Windows 10/11
- MySQL Server 8.0+ (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- MySQL Workbench (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ó–∞–ø—É—Å–∫ MySQL Server

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ —Å–ª—É–∂–±—ã Windows
1. –ù–∞–∂–º–∏—Ç–µ `Win + R`, –≤–≤–µ–¥–∏—Ç–µ `services.msc`
2. –ù–∞–π–¥–∏—Ç–µ —Å–ª—É–∂–±—É `MySQL80` –∏–ª–∏ `MySQL`
3. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí `–ó–∞–ø—É—Å—Ç–∏—Ç—å`
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–∏–ø –∑–∞–ø—É—Å–∫–∞ `–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏`

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
```cmd
# –ó–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã MySQL
net start MySQL80

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sc query MySQL80
```

### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL

#### –í–∞—Ä–∏–∞–Ω—Ç A: MySQL Command Line Client
1. –ü—É—Å–∫ ‚Üí MySQL ‚Üí MySQL Command Line Client
2. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ `database/setup_mysql.sql`

#### –í–∞—Ä–∏–∞–Ω—Ç B: MySQL Workbench
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ MySQL Workbench
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
   - Hostname: `localhost`
   - Port: `3306`
   - Username: `root`
   - Password: –≤–∞—à –ø–∞—Ä–æ–ª—å root

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `database/setup_mysql.sql` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE IF NOT EXISTS messenger_db 
CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER IF NOT EXISTS 'messenger_user'@'localhost' 
IDENTIFIED BY 'messenger_password123';

-- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤
GRANT ALL PRIVILEGES ON messenger_db.* TO 'messenger_user'@'localhost';
FLUSH PRIVILEGES;
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `database/test_connection.sql`:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
SELECT VERSION() as mysql_version;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
SHOW DATABASES;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
USE messenger_db;
SHOW TABLES;
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è root
```sql
ALTER USER 'root'@'localhost' IDENTIFIED BY '–Ω–æ–≤—ã–π_—Å–ª–æ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å';
FLUSH PRIVILEGES;
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```sql
CREATE USER 'messenger_readonly'@'localhost' IDENTIFIED BY 'readonly_password';
GRANT SELECT ON messenger_db.* TO 'messenger_readonly'@'localhost';
FLUSH PRIVILEGES;
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ IP (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
```sql
-- –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞
REVOKE ALL PRIVILEGES ON messenger_db.* FROM 'messenger_user'@'%';
DROP USER 'messenger_user'@'%';
FLUSH PRIVILEGES;
```

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∞–¥—Ä–µ—Å–∞–º
```sql
SHOW VARIABLES LIKE 'bind_address';
```

### 2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```sql
-- –í my.ini —Ñ–∞–π–ª–µ –¥–æ–±–∞–≤—å—Ç–µ:
-- bind-address = 0.0.0.0
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Windows Firewall
1. –û—Ç–∫—Ä–æ–π—Ç–µ Windows Defender Firewall
2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
3. –°–æ–∑–¥–∞—Ç—å –ø—Ä–∞–≤–∏–ª–æ ‚Üí –î–ª—è –ø–æ—Ä—Ç–∞
4. TCP, –ø–æ—Ä—Ç 3306
5. –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
6. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º –ø—Ä–æ—Ñ–∏–ª—è–º
7. –ò–º—è: "MySQL Server"

## üìä –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ my.ini
```ini
[mysqld]
# –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –¥–ª—è InnoDB
innodb_buffer_pool_size = 256M

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
max_connections = 200

# –¢–∞–π–º–∞—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
wait_timeout = 600

# –†–∞–∑–º–µ—Ä –∫—ç—à–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
query_cache_size = 64M
query_cache_type = 1
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
```sql
SHOW VARIABLES LIKE 'innodb_buffer_pool_size';
SHOW VARIABLES LIKE 'max_connections';
SHOW VARIABLES LIKE 'query_cache_size';
```

## üîç –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### 1. MySQL –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```cmd
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
type "C:\ProgramData\MySQL\MySQL Server 8.0\Data\COMPUTERNAME.err"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–ª—É–∂–±—ã
net stop MySQL80
net start MySQL80
```

### 2. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```cmd
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–ª—É–∂–±—ã
sc query MySQL80

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
netstat -an | findstr 3306
```

### 3. –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```sql
-- –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è root (—Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ!)
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å';
FLUSH PRIVILEGES;
```

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `DatabaseConfig.kt` —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```kotlin
const val MYSQL_HOST = "localhost"  // –∏–ª–∏ IP –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
const val MYSQL_PORT = 3306
const val MYSQL_DATABASE = "messenger_db"
const val MYSQL_USERNAME = "messenger_user"
const val MYSQL_PASSWORD = "messenger_password123"
```

### 2. –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
2. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤ MySQL
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ MySQL Server

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ MySQL
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–ª—É–∂–±–∞ –∑–∞–ø—É—â–µ–Ω–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ MySQL

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

- [ ] MySQL Server —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- [ ] –°–ª—É–∂–±–∞ MySQL –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `messenger_db` —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `messenger_user` —Å–æ–∑–¥–∞–Ω
- [ ] –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- [ ] –ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
